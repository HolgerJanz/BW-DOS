* BW-DOS command MENU

SIOADR  EQU 128
WRTCMD  EQU 130

DRIVNUM EQU 131
SECLEN  EQU 132
SL      EQU 132
MEDFLG  EQU 134

DOFF    EQU 135
DPOS    EQU 136
DSECT   EQU 137

RWA     EQU 138
RWL     EQU 140

T       EQU 142
SSAVE   EQU 145

DTS     EQU 146
POS     EQU 148
DTAIX   EQU 151

BSS     EQU 152
PRTADR  EQU 153
PADR    EQU 153
PSAD    EQU 155
PRTMSK  EQU 157
PMSK    EQU 157

EDPOS   EQU 158
EDMAX   EQU 159
EDX     EQU 160
EDY     EQU 161

MEM2    EQU 162

DIRPOC  EQU 164
MDP     EQU 165
DIRSPOS EQU 166
DSP     EQU 166

CMDPOS  EQU 167
CMDSPOS EQU 168

DRIVE   EQU 169

MT1     EQU 170
PTTY    EQU 172
PTTP    EQU 173
PTTI    EQU 174

SORTA   EQU 175
MT2     EQU 177
SORTM   EQU 179

EXP     EQU 180
EXF     EQU 181

INFLG   EQU 182
OUTFLG  EQU 183
INPOS   EQU 184
OUTPOS  EQU 187
COPIX   EQU 190
COPTOP  EQU 191
COPDSTD EQU 192
COPSAME EQU 193
IN1ST   EQU 194
OUT1ST  EQU 195
CRA     EQU 196
COPENDF EQU 198
COPNEWF EQU 199

BELLFLG EQU 200
COPPDRV EQU 201

EDSPOS  EQU 202
QFLG    EQU 203
MBF     EQU 204

CERRF   EQU 205

RUNAD   EQU $2E0
INITAD  EQU $2E2
RAMSIZ  EQU $2E4

TFST1   EQU $480
TFADRL  EQU $4A2
TFADRH  EQU $4B4
TFLENL  EQU $4C6
TFLENH  EQU $4D8
TFF     EQU $4EA

DIRBUFL EQU 255*23

* check 32k at ini
        BLK DOS $3000
INISTRT lda RAMSIZ
        cmp #$80
        BCC INIERR
        RTS
INIERR  LDA #$0B
        STA $342
        LDA <INIERRT
        STA $344
        LDA >INIERRT
        STA $345
        LDA <INIERRE-INIERRT
        STA $348
        LDX #$00
        STX $349
        JSR $E456
        JMP ($000A)
INIERRT DTA B($9B,$FD)
        DTA C'Requires 32k'
        DTA B($9B)
INIERRE EQU *

        BLK DOS INITAD
        DTA A(INISTRT)

        BLK DOS $4000
        ICL 'MENU1.ICL'
        ICL 'MENU2.ICL'
        ICL 'MENU3.ICL'
        ICL 'MENU4.ICL'
        ICL 'MENU5.ICL'
        ICL 'MENU6.ICL'

COLBUF  EQU *
DATB    EQU COLBUF+8
DAB     EQU DATB

MAPB    EQU DATB+256
DIRB    EQU MAPB+256
F       EQU DIRB+256
F2      EQU F+11
P       EQU F2+11
P2      EQU P+$E8
DSKSTAT EQU P2+$E8
DSKST2  EQU DSKSTAT+17
UPDNAM  EQU DSKST2+17

MEMB    EQU UPDNAM+11

        BLK DOS RUNAD
        DTA A(START0)

        END
